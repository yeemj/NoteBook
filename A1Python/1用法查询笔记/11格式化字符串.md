#### 1. 格式化字符串的原因

原因之一：没有格式化字符串，拼接一句话要用符号 + 和数据类型转换函数 `str()`。变量如果都是字符串变量都还好说一些，如果还有其他变量，如 int 或者float，就会跟繁琐。

如下举例要打印出 `yeemj博客地址是yeemj.github.io`: 

用到字符串的拼接符号 '+' 

~~~python
name = 'yeemj'
url ='yeemj.github.io'
print(name + '的博客地址是' + url)
#》》yeemj的博客地址是yeemj.github.io
~~~

如果遇到其他的类型的变量，还要要求转化数据类型：

如下要打印出 `伟大的祖国母亲——中国是1949年出生的，她今年快要72岁了`：

~~~python
country = '中国'
born = 1949
year = 72
print('伟大的祖国母亲——' + country + '是'+ str(born) + '年出生的，她今年快要' + str(year) + '岁了')
#》》伟大的祖国母亲--中国是1949年出生的，她今年快要72岁了
print('伟大的祖国母亲——' + country + '是' + '1949' + '年出生的，她今年快要' + '72' + '岁了')
#》》伟大的祖国母亲--中国是1949年出生的，她今年快要72岁了
~~~

方法一是用转换数据类型函数将`born``year`两个整型变量转换成字符串类型（`str()`将数据转换成字符串类型，`int()`将数据转化成int整型类型，`float()`将数据转换成float数据类型，在将字符串的数据转换成int和float数据类型时，要注意只有数据式的字符串才能转换，将float数据用`int()`函数进行转换时，会舍弃小数部分，保留整数部分）。方法二是将`1949`和`72`这两个整数直接强制加上`''`转换成了字符串类型。

#### 2. %符号格式化

##### 2.1 语法格式

格式：%+数据类型简写（类型码）

作用：为真正的数据预留一个位置，类型码用于控制显示的类型。

| 符号   | 说明                                         |
| ------ | -------------------------------------------- |
| %s     | 字符串，用函数`str()`将表达式转化成字符串    |
| %r     | 字符串，用函数`repr()`将表达式转化成字符串   |
| %c     | 单个字符（char）转化成ASCII码                |
| %d，%i | 转化成带符号的十进制整数                     |
| %o     | 转成带符号的八进制整数                       |
| %x，%X | 转成带符号的十六进制整数                     |
| %e，%E | 转成科学计数法表示的浮点数（对应的e和E显示） |
| %f，%F | 浮点数                                       |
| %g     | 根据长度智能的选择 %f 或者 %e 格式           |
| %G     | 根据长度智能的选择 %F 或者 %E 格式           |
| %%     | 显示百分号%                                  |

如果要固定字符的宽度、小数精度等，观其本质：

~~~python
除了typecode为必选，其余用[]都为可选。
%[(name)][flags][width][.precision]typecode

    (name): 用于选择指定的key
    flags: 可供选择的值有:
        +: 右对齐；正数前加正号，负数前加负号；
        -: 左对齐；正数前无符号，负数前加负号；
         : 右对齐；正数前加空格，负数前加负号；
        0: 右对齐；正数前无符号，负数前加负号；用 0 填充空白处
    width: 占有宽度
    .precision: 小数点后保留的位数
    typecode: 必选（即上述表格中的字符）
~~~

转换说明符只是一个占位符，会被后面表达式（比如变量、常量、数字、字符串）的值代替。

而且，有多少个占位符，就要有多少个表达式。

##### 2.2 举例

`yeemj的博客地址是yeemj.github.io`

~~~python
name = 'yeemj'
url = 'yeemj.github.io'
print('%s的博客地址是%s'%(name,url))
#》》yeemj的博客地址是yeemj.github.io
~~~

在上述例子中，`%s`启的是占位的作用，给后面的 %() 中的变量依次占位，在真正显示的时候，被后面的变量代替。

`伟大的祖国母亲--中国是1949出生的，她今年72了`

~~~python
country = '中国'
born = 1949
year = 72
print('伟大的祖国母亲——%s是%d出生的，她今年%d 了' %(country,born,year))
#》》伟大的祖国母亲--中国是1949出生的，她今年72了
~~~

在上述例子中，%s为country占位，第一个%d为born占位，第二个%d为year占位。

~~~python
num = 89
print('%d八进制是%o，十六进制是%x，ASCII码的图形是%c' %(num,num,num,num))
#》》89八进制是131，十六进制是59，ASCII码的图形是Y
~~~

虽然用的是同一个数据`num`，但是因为有四个占位符`%d`，`%o`，`%x`，`%c`。

其他举例：

~~~python
>>> print('%f'%2.456)  #默认是6位有效数字
2.456000
>>> print('%.3f'%2.456)  #默认保留3位有效数字
2.456
>>> print('%e'%2.456)  #默认6位小数，用科学计数法
2.456000e+00
>>> print('%.3e'%2.456)  #保留3位小数，用科学计数法
2.456e+00
>>> print('%.5g'%24567.89)   #保留5位有效数字，自动选择了浮点数表示方法
24568
>>> print('%.2g'%2456.78)   #保留2位有效数据，自动选择了科学计数法
2.5e+03
~~~



#### 3. format() 格式化

针对用%格式化的倒数第二个例子，用同一个数据但是要有四个占位符，就要写四遍，相对来说还是有些许繁琐。

自Python 2.6版本开始，字符串类型提供了 format() 方法对字符串进行格式化。

##### 3.1 语法格式

~~~
str.format(args)
~~~

str——指定字符串的显示样式；

args——指定要进行格式转换的项，如果有多项，之间用逗号分隔。

不用`%`占位，用`{}`和`:`进行占位

观其本质：

~~~python
格式中用 [] 括起来的参数都是可选参数。
{ [index][ : [ [fill] align] [sign] [width] [.precision] [type] ] }
~~~

- index：指定索引，后边设置的格式要作用到args的第几个数据，数据的索引从0开始。如果没有这一项，就按照前后顺序分配。

- fill：指定空白处填充的字符。

  - 当填充字符为逗号（，）作用于整数或浮点数，整数或浮点数也会以逗号分隔的形式输出，例如（1000000会输出 1,000,000）。

- align：指定数据的对齐方式：

  | align | 含义                                                         |
  | ----- | ------------------------------------------------------------ |
  | <     | 数据左对齐。                                                 |
  | >     | 数据右对齐。                                                 |
  | =     | 数据右对齐，同时将符号放置在填充内容的最左侧，该选项只对数字类型有效。 |
  | ^     | 数据居中，此选项需和 width 参数一起使用。                    |

- sign：有无符号数

  | sign参数 | 含义                                                         |
  | -------- | ------------------------------------------------------------ |
  | +        | 正数前加正号，负数前加负号。                                 |
  | -        | 正数前不加正号，负数前加负号。                               |
  | 空格     | 正数前加空格，负数前加负号。                                 |
  | #        | 二进制数、八进制数和十六进制数，使用此参数，各进制数前会分别显示 0b、0o、0x前缀；反之则不显示前缀。 |

- width：指定输出数据时所占的宽度
- .precision：保留的小数位数
- type：和%时 一样



##### 3.2 举例

###### 1）位置匹配，最为常用

按照顺序分配位置：

~~~python
name = 'yeemj'
url = 'yeemj.github.io'
print('{}的博客地址是{}'.format(name,url))
#》》yeemj的博客地址是yeemj.github.io

country = '中国'
born = 1949
year = 72
print('伟大的祖国母亲——{}是{}出生的，她今年{}岁了'.format(country,born,year))
#》》伟大的祖国母亲--中国是1949出生的，她今年72岁了

print('中国共产党是伟大的党，建于{}年，今年是我国建党{}周年'.format(1921,100))
#》》中国共产党是伟大的党，建于1921年，今年是我国建党100周年
~~~

指定关键字：

~~~python
print('{name}的博客地址是{url}'.format(name = 'yeemj',url = 'yeemj.github.io'))
#》》yeemj的博客地址是yeemj.github.io

country = '中国'
born = 1949
year = 72
print('伟大的祖国母亲——{country}是{born}出生的，她今年{year}岁了'.format(country = country,born = born,year = year))
#》》伟大的祖国母亲--中国是1949出生的，她今年72岁了
~~~

指定顺序：

~~~python
print('浙江大学的校训：{0}，{1}'.format('求是','创新'))
#》》浙江大学的校训：求是，创新
print('浙江大学的校训：{1}，{0}'.format('求是','创新'))
#》》浙江大学的校训：创新，求是

print('{1},{2},{0}'.format('有钱有闲','满世界兜风','睡着都笑醒'))
#》》满世界兜风,睡着都笑醒,有钱有闲

print('{0},{1},{0}'.format('有钱有闲','满世界兜风','睡着都笑醒'))
#》》有钱有闲,满世界兜风,有钱有闲
~~~

**结论：**

- 只写 {} ，默认按传入的值的顺序读取。
- 写了关键字，按照关键字读取，format中如果不指定关键字，会报错。
- 指定顺序，按照顺序读取，从0开始。



###### 2）指定类型输出(注意可以和用%作转换对比)

~~~python
>>> print('{:f}'.format(2.456))  #默认是6位有效数字
2.456000
>>> print('{:.3f}'.format(2.456))  #默认保留3位有效数字
2.456
>>> print('{:e}'.format(2.456))  #默认6位小数，用科学计数法
2.456000e+00
>>> print('{:.3e}'.format(2.456))  #保留3位小数，用科学计数法
2.456e+00
>>> print('{:.5g}'.format(24567.89))   #保留5位有效数字，自动选择了浮点数表示方法
24568
>>> print('{:.2g}'.format(24567.89))   #保留2位有效数据，自动选择了科学计数法
2.5e+04

num = 89
print('{:d}二进制是{:b}八进制是{:o}，十六进制是{:x}，ASCII码的图形是{:c}' .format(num,num,num,num,num))
#》》89二进制是1011001八进制是131，十六进制是59，ASCII码的图形是Y
###  %格式化字符串好像没有办法转化成二进制

#输出百分比
>>> print('0.98的百分比：{:.0%}'.format(0.98))
0.98的百分比：98%
>>> print('0.98的百分比：{:.1%}'.format(0.98))
0.98的百分比：98.0%

#金钱货币的形式
>>> print('1000000000000的货币显示：{:,d}'.format(1000000000000))
1000000000000的货币显示：1,000,000,000,000
~~~



常用的就是这些，其他的要求宽度补全对齐格式的还有好多，用时再看！





